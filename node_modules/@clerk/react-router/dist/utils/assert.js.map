{"version":3,"sources":["../../src/utils/assert.ts"],"sourcesContent":["import type { ClerkState } from '../client/types';\nimport { invalidClerkStatePropError, noClerkStateError, publishableKeyMissingErrorInSpaMode } from './errors';\n\nexport function warnForSsr(val: ClerkState | undefined) {\n  if (!val || !val.__internal_clerk_state) {\n    console.warn(noClerkStateError);\n  }\n}\n\nexport function assertEnvVar(name: any, errorMessage: string): asserts name is string {\n  if (!name || typeof name !== 'string') {\n    throw new Error(errorMessage);\n  }\n}\n\nexport function assertValidClerkState(val: any): asserts val is ClerkState | undefined {\n  if (!val) {\n    throw new Error(noClerkStateError);\n  }\n  if (!!val && !val.__internal_clerk_state) {\n    throw new Error(invalidClerkStatePropError);\n  }\n}\n\nexport function assertPublishableKeyInSpaMode(key: any): asserts key is string {\n  if (!key || typeof key !== 'string') {\n    throw new Error(publishableKeyMissingErrorInSpaMode);\n  }\n}\n\n/**\n * When React Router is used as a framework, the __reactRouterContext object is populated on window.\n * The isSpaMode will then be set to true if you use https://reactrouter.com/how-to/spa or when you deactivate SSR\n *\n * When React Router is used as a library the __reactRouterContext object is not populated on window at all.\n *\n * So in library mode we can't determine if we are in SPA mode or not so we return undefined.\n */\nexport const isSpaMode = (): boolean | undefined => {\n  if (typeof window !== 'undefined' && typeof window.__reactRouterContext?.isSpaMode !== 'undefined') {\n    return window.__reactRouterContext.isSpaMode;\n  }\n  return undefined;\n};\n"],"mappings":";AACA,SAAS,4BAA4B,mBAAmB,2CAA2C;AAE5F,SAAS,WAAW,KAA6B;AACtD,MAAI,CAAC,OAAO,CAAC,IAAI,wBAAwB;AACvC,YAAQ,KAAK,iBAAiB;AAAA,EAChC;AACF;AAEO,SAAS,aAAa,MAAW,cAA8C;AACpF,MAAI,CAAC,QAAQ,OAAO,SAAS,UAAU;AACrC,UAAM,IAAI,MAAM,YAAY;AAAA,EAC9B;AACF;AAEO,SAAS,sBAAsB,KAAiD;AACrF,MAAI,CAAC,KAAK;AACR,UAAM,IAAI,MAAM,iBAAiB;AAAA,EACnC;AACA,MAAI,CAAC,CAAC,OAAO,CAAC,IAAI,wBAAwB;AACxC,UAAM,IAAI,MAAM,0BAA0B;AAAA,EAC5C;AACF;AAEO,SAAS,8BAA8B,KAAiC;AAC7E,MAAI,CAAC,OAAO,OAAO,QAAQ,UAAU;AACnC,UAAM,IAAI,MAAM,mCAAmC;AAAA,EACrD;AACF;AAUO,IAAM,YAAY,MAA2B;AAtCpD;AAuCE,MAAI,OAAO,WAAW,eAAe,SAAO,YAAO,yBAAP,mBAA6B,eAAc,aAAa;AAClG,WAAO,OAAO,qBAAqB;AAAA,EACrC;AACA,SAAO;AACT;","names":[]}